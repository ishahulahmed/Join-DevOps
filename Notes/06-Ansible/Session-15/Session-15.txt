Session Overview
-----------------
a) Push vs Pull
b) Install Ansible
c) Adhoc commands
d) XML vs JSON vs YAML
e) Playbooks

disadvantages of shell scripting
---------------------------------
1. no idempotency --> idempotency means a function or process that produces the same result regardless of how many times it is performed.
2. no error handling
3. Hard to understand
4. Homogeneous --> means only works for one distro
5. not scalabale --> you cannot use shell script for multiple servers at a time
6. imperative type of programming (we need to give everything to computer as instruction. it will execute line by line and syntax is tough in imperative)

declarative syntax like ansible, terraform and kubernetes these will follow declarative style. sequence is not an issue and syntax is easy and self explanatory. you will understand this slowly.

configuration management
-------------------------
sever should be ready with application. [it will be ready only after configuring it] 

when we create a server there will be nothing in it. it is just like a plain server. so, how should we make it ready or what are the things we are doing as part of configuration.

install application runtime --> like nodejs or java etc
install system packages
install appliction dependencies
download the code
create users, permissions, directories
create sytemctl servies

All these are configuration management. it is very difficult to do them with shell scripting. At a time doing 100's of servers with shell script or manually is very difficult that is we have configuration management tools.

CM tools --> puppet, chef --> old
Ansible --> new
old tools have some challenges they are not scalable. syntax is tough there was need to learn programming language. chef we need Ruby language. it was tough.

push vs pull
-------------
Push vs Pull this is a architecture style in IT

Our friend sent a courier. he called us this morning and said i am sending you a courier today it will come to hyderabad.
Delhi --> Hyd

so, we go everyday to local dtdc office ask whether we have recieved any courier. they will check every time we go and ask them and tell us whether received or not this is one way.

1. asking DTDC office every day --> Pull 
2. don't do anything, when letter comes DTDC deliver to you --> Push

which way is better obviously second way is better.

Pull means everytime we goign and cheking whether received or not.
Push means when it is received automatically recieve notification.

For Example Facebook if send a message to friend
- going and checking everytime that person replied or not is pull based
- whenever we get message we are getting a notification or emaily is push based

pull
----
In pull based one system going to another sytem and checking whether changes or information received or not. what happnes then

1. internet traffic increases
2. unnecessary bandwidth consumption
3. power and system resources
4. cost

push
----
In push based we can save the above
active notifications

generally, in 99% cases we prefer push based architecture. in few cases we prefer pull based architecture. we will understand those cases slowly.

chef, puppet these were pull based architecture.

Can you check manually inside a server what programs, packages installed, directories created and users created that is very difficult. if one ok suppose if there are 10 or 100 now this is big hectic task.

For example if you take shell scripting then if you see the shell script we can understand what are things we did inside the server. That is reading the configuration of the server. checking manually inside the server is impossible or difficult. But, if you see the script that can be ansible, shell or chef we can understand what is inside the server. i.e reading the configuration of the server.

if you create configuration once that is not enough in future you may need to update the configuration. some changes may expire then we need to delete the configuration.

CRUD is performed everywhere even for configuration.
CRUD --> create, read, update and delete.

In pull based we will schedule the server for every 30 mins (here example) to go the Configuration Management Server and Check for Changes. If there are changes update those changes yourself. 

So, this Node Server will go to CM Server every 30 mins check for changes if there are changes then they will download those changes and run those changes and update themselves.

Do you think every 30 Minutes we will have changes --> No [So, Ansible came into picture]

Ansible connects through SSH protocol to Node. For pull based he said not SSH but some other kind of protocol. 
Here servers (node) going and cheking those things will be not there. 

here if we want to create a configuration we will write a file and upload it in Configuration Management Server from that server we will directly push it.
for example i want some configuration in NODE-1 then we will write that configuration from CM Server we will push it to NODE-1. it will go to NODE-1 and runs automatically.

As, i said in some cases pull will be useful. imagine there is application is running in production and users using it application like amazon. your getting lot of crores of business. suddenly due to some ignorance an employee made some changes in NODE-1 that is causing application down in NODE-1 server. 

when will be the application be up? --> when it automatically resets in next 30 mins

we made changes in NODE-1 after 30 mins it will go and check with CM Server and see there are differences between them. Then NODE-1 download the changes and automatically resets.

This is possible in pull based but this automatic reset is not possible in push based. in these cases push based will not be useful.
But, we will keep aside this one case. Because, we have monitoring tools if a server is down we will get an alert immediately we will check and push the changes. we can follow this monitoring mechanism.

100% no concept is correct. we will check the pros and cons and depending upon our project requirements we will follow what is needed.

Mostly, push is good for our application but you need to do some monitoring on the service what is going on.


This is already mentioned in github you can read them.
https://github.com/daws-78s/concepts/blob/main/ansible.MD

Whatever the disadvantages we have in shell we can address them in ansible.

Where Ansible is installed we will call it ansible master server remaining we will call as ansible remote nodes.

Take two instance name one as Ansible-Master and other as Ansible-Node
Create EC2 Instante --> t2.micro --> Launch Instance





19:42

